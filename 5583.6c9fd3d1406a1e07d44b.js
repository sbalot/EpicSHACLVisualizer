(self.webpackChunkviewer=self.webpackChunkviewer||[]).push([[5583,8473],{6276:function(e){class t extends Map{import(e,t,r){const n=this.get(e);return n?n.import(t,r):null}}e.exports=t},16497:function(e,t,r){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(66042).Buffer.isBuffer},5826:function(e){var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},97356:function(e,t,r){var n=r(42830);function i(e){return e instanceof n.Stream}function a(e){return i(e)&&"function"==typeof e._read&&"object"==typeof e._readableState}function s(e){return i(e)&&"function"==typeof e._write&&"object"==typeof e._writableState}e.exports=i,e.exports.isReadable=a,e.exports.isWritable=s,e.exports.isDuplex=function(e){return a(e)&&s(e)}},62705:function(e,t,r){var n=r(55639).Symbol;e.exports=n},44239:function(e,t,r){var n=r(62705),i=r(89607),a=r(2333),s=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?i(e):a(e)}},27561:function(e,t,r){var n=r(67990),i=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(i,""):e}},31957:function(e,t,r){var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},89607:function(e,t,r){var n=r(62705),i=Object.prototype,a=i.hasOwnProperty,s=i.toString,o=n?n.toStringTag:void 0;e.exports=function(e){var t=a.call(e,o),r=e[o];try{e[o]=void 0;var n=!0}catch(e){}var i=s.call(e);return n&&(t?e[o]=r:delete e[o]),i}},2333:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},55639:function(e,t,r){var n=r(31957),i="object"==typeof self&&self&&self.Object===Object&&self,a=n||i||Function("return this")();e.exports=a},67990:function(e){var t=/\s/;e.exports=function(e){for(var r=e.length;r--&&t.test(e.charAt(r)););return r}},89567:function(e,t,r){var n=r(40554);e.exports=function(e,t){var r;if("function"!=typeof t)throw new TypeError("Expected a function");return e=n(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=void 0),r}}},13218:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},37005:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},33448:function(e,t,r){var n=r(44239),i=r(37005);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==n(e)}},51463:function(e,t,r){var n=r(89567);e.exports=function(e){return n(2,e)}},18601:function(e,t,r){var n=r(14841);e.exports=function(e){return e?Infinity===(e=n(e))||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},40554:function(e,t,r){var n=r(18601);e.exports=function(e){var t=n(e),r=t%1;return t==t?r?t-r:t:0}},14841:function(e,t,r){var n=r(27561),i=r(13218),a=r(33448),s=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var r=o.test(e);return r||u.test(e)?c(e.slice(2),r?2:8):s.test(e)?NaN:+e}},88212:function(e,t,r){"use strict";var n=r(34155);void 0===n||!n.version||0===n.version.indexOf("v0.")||0===n.version.indexOf("v1.")&&0!==n.version.indexOf("v1.8.")?e.exports={nextTick:function(e,t,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var a,s,o=arguments.length;switch(o){case 0:case 1:return n.nextTick(e);case 2:return n.nextTick((function(){e.call(null,t)}));case 3:return n.nextTick((function(){e.call(null,t,r)}));case 4:return n.nextTick((function(){e.call(null,t,r,i)}));default:for(a=new Array(o-1),s=0;s<a.length;)a[s++]=arguments[s];return n.nextTick((function(){e.apply(null,a)}))}}}:e.exports=n},12401:function(e){"use strict";e.exports=class e{constructor(e,t=new Map,r=0){this.prefix=e,this._existing=t,this.counter=r}clone(){const{prefix:t,_existing:r,counter:n}=this;return new e(t,new Map(r),n)}getId(e){const t=e&&this._existing.get(e);if(t)return t;const r=this.prefix+this.counter;return this.counter++,e&&this._existing.set(e,r),r}hasId(e){return this._existing.has(e)}getOldIds(){return[...this._existing.keys()]}}},75947:function(e,t,r){"use strict";r(24889);const n=self.crypto||self.msCrypto;e.exports=class{constructor(e){if(!n||!n.subtle)throw new Error("crypto.subtle not found.");if("sha256"===e)this.algorithm={name:"SHA-256"};else{if("sha1"!==e)throw new Error(`Unsupport algorithm "${e}".`);this.algorithm={name:"SHA-1"}}this._content=""}update(e){this._content+=e}async digest(){const e=(new TextEncoder).encode(this._content),t=new Uint8Array(await n.subtle.digest(this.algorithm,e));let r="";for(let e=0;e<t.length;++e)r+=t[e].toString(16).padStart(2,"0");return r}}},69980:function(e){"use strict";const t="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",r="http://www.w3.org/2001/XMLSchema#string",n="NamedNode",i="BlankNode",a="Literal",s="DefaultGraph",o={};o.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,o.empty=new RegExp("^[ \\t]*$"),o.quad=new RegExp('^[ \\t]*(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9])(?:(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9-·̀-ͯ‿-⁀.])*(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9-·̀-ͯ‿-⁀]))?))[ \\t]+(?:<([^:]+:[^>]*)>)[ \\t]+(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9])(?:(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9-·̀-ͯ‿-⁀.])*(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9-·̀-ͯ‿-⁀]))?)|(?:"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"(?:(?:\\^\\^(?:<([^:]+:[^>]*)>))|(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*)))?))[ \\t]*(?:\\.|(?:(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9])(?:(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9-·̀-ͯ‿-⁀.])*(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9-·̀-ͯ‿-⁀]))?))[ \\t]*\\.))[ \\t]*$'),e.exports=class e{static parse(e){const u=[],l={},h=e.split(o.eoln);let d=0;for(const e of h){if(d++,o.empty.test(e))continue;const h=e.match(o.quad);if(null===h)throw new Error("N-Quads parse error on line "+d+".");const b={subject:null,predicate:null,object:null,graph:null};if(void 0!==h[1]?b.subject={termType:n,value:h[1]}:b.subject={termType:i,value:h[2]},b.predicate={termType:n,value:h[3]},void 0!==h[4]?b.object={termType:n,value:h[4]}:void 0!==h[5]?b.object={termType:i,value:h[5]}:(b.object={termType:a,value:void 0,datatype:{termType:n}},void 0!==h[7]?b.object.datatype.value=h[7]:void 0!==h[8]?(b.object.datatype.value=t,b.object.language=h[8]):b.object.datatype.value=r,b.object.value=h[6].replace(c,(function(e,t,r,n){if(t)switch(t){case"t":return"\t";case"b":return"\b";case"n":return"\n";case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(r)return String.fromCharCode(parseInt(r,16));if(n)throw new Error("Unsupported U escape")}))),void 0!==h[9]?b.graph={termType:n,value:h[9]}:void 0!==h[10]?b.graph={termType:i,value:h[10]}:b.graph={termType:s,value:""},b.graph.value in l){let e=!0;const t=l[b.graph.value];for(const r of t)if(p=b,(f=r).subject.termType===p.subject.termType&&f.object.termType===p.object.termType&&f.subject.value===p.subject.value&&f.predicate.value===p.predicate.value&&f.object.value===p.object.value&&(f.object.termType!==a||f.object.datatype.termType===p.object.datatype.termType&&f.object.language===p.object.language&&f.object.datatype.value===p.object.datatype.value)){e=!1;break}e&&(t.push(b),u.push(b))}else l[b.graph.value]=[b],u.push(b)}var f,p;return u}static serialize(t){Array.isArray(t)||(t=e.legacyDatasetToQuads(t));const r=[];for(const n of t)r.push(e.serializeQuad(n));return r.sort().join("")}static serializeQuad(e){const a=e.subject,s=e.predicate,o=e.object,c=e.graph;let l="";return a.termType===n?l+=`<${a.value}>`:l+=`${a.value}`,l+=` <${s.value}> `,o.termType===n?l+=`<${o.value}>`:o.termType===i?l+=o.value:(l+=`"${function(e){return e.replace(u,(function(e){switch(e){case'"':return'\\"';case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r"}}))}(o.value)}"`,o.datatype.value===t?o.language&&(l+=`@${o.language}`):o.datatype.value!==r&&(l+=`^^<${o.datatype.value}>`)),c.termType===n?l+=` <${c.value}>`:c.termType===i&&(l+=` ${c.value}`),l+=" .\n",l}static legacyDatasetToQuads(e){const o=[],u={"blank node":i,IRI:n,literal:a};for(const c in e)e[c].forEach((e=>{const l={};for(const i in e){const s=e[i],o={termType:u[s.type],value:s.value};o.termType===a&&(o.datatype={termType:n},"datatype"in s&&(o.datatype.value=s.datatype),"language"in s?("datatype"in s||(o.datatype.value=t),o.language=s.language):"datatype"in s||(o.datatype.value=r)),l[i]=o}l.graph="@default"===c?{termType:s,value:""}:{termType:c.startsWith("_:")?i:n,value:c},o.push(l)}));return o}};const u=/["\\\n\r]/g,c=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g},68326:function(e){"use strict";e.exports=class{constructor(e){this.current=e.sort(),this.done=!1,this.dir=new Map;for(let t=0;t<e.length;++t)this.dir.set(e[t],!0)}hasNext(){return!this.done}next(){const{current:e,dir:t}=this,r=e.slice();let n=null,i=0;const a=e.length;for(let r=0;r<a;++r){const s=e[r],o=t.get(s);(null===n||s>n)&&(o&&r>0&&s>e[r-1]||!o&&r<a-1&&s>e[r+1])&&(n=s,i=r)}if(null===n)this.done=!0;else{const r=t.get(n)?i-1:i+1;e[i]=e[r],e[r]=n;for(const r of e)r>n&&t.set(r,!t.get(r))}return r}}},5643:function(e,t,r){"use strict";const n=r(12401),i=r(75947),a=r(68326),s=r(69980);function o(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}e.exports=class{constructor(){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new n("_:c14n"),this.hashAlgorithm="sha256",this.quads=null}main(e){this.quads=e;for(const t of e)this._addBlankNodeQuadInfo({quad:t,component:t.subject}),this._addBlankNodeQuadInfo({quad:t,component:t.object}),this._addBlankNodeQuadInfo({quad:t,component:t.graph});const t=new Map,r=[...this.blankNodeInfo.keys()];for(const e of r)this._hashAndTrackBlankNode({id:e,hashToBlankNodes:t});const i=[...t.keys()].sort(),a=[];for(const e of i){const r=t.get(e);if(r.length>1){a.push(r);continue}const n=r[0];this.canonicalIssuer.getId(n)}for(const e of a){const t=[];for(const r of e){if(this.canonicalIssuer.hasId(r))continue;const e=new n("_:b");e.getId(r);const i=this.hashNDegreeQuads(r,e);t.push(i)}t.sort(o);for(const e of t){const t=e.issuer.getOldIds();for(const e of t)this.canonicalIssuer.getId(e)}}const u=[];for(const e of this.quads){const t={...e};t.subject=this._useCanonicalId({component:t.subject}),t.object=this._useCanonicalId({component:t.object}),t.graph=this._useCanonicalId({component:t.graph}),u.push(s.serializeQuad(t))}return u.sort(),u.join("")}hashFirstDegreeQuads(e){const t=[],r=this.blankNodeInfo.get(e),n=r.quads;for(const r of n){const n={subject:null,predicate:r.predicate,object:null,graph:null};n.subject=this.modifyFirstDegreeComponent(e,r.subject,"subject"),n.object=this.modifyFirstDegreeComponent(e,r.object,"object"),n.graph=this.modifyFirstDegreeComponent(e,r.graph,"graph"),t.push(s.serializeQuad(n))}t.sort();const a=new i(this.hashAlgorithm);for(const e of t)a.update(e);return r.hash=a.digest(),r.hash}hashRelatedBlankNode(e,t,r,n){let a;a=this.canonicalIssuer.hasId(e)?this.canonicalIssuer.getId(e):r.hasId(e)?r.getId(e):this.blankNodeInfo.get(e).hash;const s=new i(this.hashAlgorithm);return s.update(n),"g"!==n&&s.update(this.getRelatedPredicate(t)),s.update(a),s.digest()}hashNDegreeQuads(e,t){const r=new i(this.hashAlgorithm),n=this.createHashToRelated(e,t),s=[...n.keys()].sort();for(const e of s){r.update(e);let i,s="";const o=new a(n.get(e));for(;o.hasNext();){const e=o.next();let r=t.clone(),n="";const a=[];let u=!1;for(const t of e)if(this.canonicalIssuer.hasId(t)?n+=this.canonicalIssuer.getId(t):(r.hasId(t)||a.push(t),n+=r.getId(t)),0!==s.length&&n>s){u=!0;break}if(!u){for(const e of a){const t=this.hashNDegreeQuads(e,r);if(n+=r.getId(e),n+=`<${t.hash}>`,r=t.issuer,0!==s.length&&n>s){u=!0;break}}u||(0===s.length||n<s)&&(s=n,i=r)}}r.update(s),t=i}return{hash:r.digest(),issuer:t}}modifyFirstDegreeComponent(e,t){return"BlankNode"!==t.termType?t:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return`<${e.predicate.value}>`}createHashToRelated(e,t){const r=new Map,n=this.blankNodeInfo.get(e).quads;for(const i of n)this._addRelatedBlankNodeHash({quad:i,component:i.subject,position:"s",id:e,issuer:t,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:i,component:i.object,position:"o",id:e,issuer:t,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:i,component:i.graph,position:"g",id:e,issuer:t,hashToRelated:r});return r}_hashAndTrackBlankNode({id:e,hashToBlankNodes:t}){const r=this.hashFirstDegreeQuads(e),n=t.get(r);n?n.push(e):t.set(r,[e])}_addBlankNodeQuadInfo({quad:e,component:t}){if("BlankNode"!==t.termType)return;const r=t.value,n=this.blankNodeInfo.get(r);n?n.quads.add(e):this.blankNodeInfo.set(r,{quads:new Set([e]),hash:null})}_addRelatedBlankNodeHash({quad:e,component:t,position:r,id:n,issuer:i,hashToRelated:a}){if("BlankNode"!==t.termType||t.value===n)return;const s=t.value,o=this.hashRelatedBlankNode(s,e,i,r),u=a.get(o);u?u.push(s):a.set(o,[s])}_useCanonicalId({component:e}){return"BlankNode"!==e.termType||e.value.startsWith(this.canonicalIssuer.prefix)?e:{termType:"BlankNode",value:this.canonicalIssuer.getId(e.value)}}}},62902:function(e,t,r){const n=r(17299);e.exports=class extends n{constructor(e){super({read:()=>{this.emit("error",e)}})}}},22214:function(e,t,r){"use strict";var n=r(88212),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=h;var a=Object.create(r(16497));a.inherits=r(35717);var s=r(30507),o=r(71766);a.inherits(h,s);for(var u=i(o.prototype),c=0;c<u.length;c++){var l=u[c];h.prototype[l]||(h.prototype[l]=o.prototype[l])}function h(e){if(!(this instanceof h))return new h(e);s.call(this,e),o.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||n.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),h.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},33323:function(e,t,r){"use strict";e.exports=a;var n=r(82530),i=Object.create(r(16497));function a(e){if(!(this instanceof a))return new a(e);n.call(this,e)}i.inherits=r(35717),i.inherits(a,n),a.prototype._transform=function(e,t,r){r(null,e)}},30507:function(e,t,r){"use strict";var n=r(34155),i=r(88212);e.exports=v;var a,s=r(5826);v.ReadableState=m,r(5212).EventEmitter;var o=function(e,t){return e.listeners(t).length},u=r(66267),c=r(89509).Buffer,l=r.g.Uint8Array||function(){},h=Object.create(r(16497));h.inherits=r(35717);var d=r(46935),f=void 0;f=d&&d.debuglog?d.debuglog("stream"):function(){};var p,b=r(65004),g=r(20465);h.inherits(v,u);var y=["error","close","destroy","pause","resume"];function m(e,t){e=e||{};var n=t instanceof(a=a||r(22214));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,s=e.readableHighWaterMark,o=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(s||0===s)?s:o,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=r(15697).s),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function v(e){if(a=a||r(22214),!(this instanceof v))return new v(e);this._readableState=new m(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),u.call(this)}function w(e,t,r,n,i){var a,s=e._readableState;return null===t?(s.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,k(e)}}(e,s)):(i||(a=function(e,t){var r,n;return n=t,c.isBuffer(n)||n instanceof l||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}(s,t)),a?e.emit("error",a):s.objectMode||t&&t.length>0?("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),n?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):_(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?_(e,s,t,!1):T(e,s)):_(e,s,t,!1))):n||(s.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(s)}function _(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&k(e)),T(e,t)}Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),v.prototype.destroy=g.destroy,v.prototype._undestroy=g.undestroy,v.prototype._destroy=function(e,t){this.push(null),t(e)},v.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=c.from(e,t),t=""),r=!0),w(this,e,t,!1,r)},v.prototype.unshift=function(e){return w(this,e,null,!0,!1)},v.prototype.isPaused=function(){return!1===this._readableState.flowing},v.prototype.setEncoding=function(e){return p||(p=r(15697).s),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var x=8388608;function j(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=x?e=x:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function k(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(f("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(S,e):S(e))}function S(e){f("emit readable"),e.emit("readable"),E(e)}function T(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(N,e,t))}function N(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(f("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function M(e){f("readable nexttick read 0"),e.read(0)}function I(e,t){t.reading||(f("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),E(e),t.flowing&&!t.reading&&e.read(0)}function E(e){var t=e._readableState;for(f("flow",t.flowing);t.flowing&&null!==e.read(););}function R(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;return e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,i=r.data;for(e-=i.length;r=r.next;){var a=r.data,s=e>a.length?a.length:e;if(s===a.length?i+=a:i+=a.slice(0,e),0==(e-=s)){s===a.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=a.slice(s));break}++n}return t.length-=n,i}(e,t):function(e,t){var r=c.allocUnsafe(e),n=t.head,i=1;for(n.data.copy(r),e-=n.data.length;n=n.next;){var a=n.data,s=e>a.length?a.length:e;if(a.copy(r,r.length-e,0,s),0==(e-=s)){s===a.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=a.slice(s));break}++i}return t.length-=i,r}(e,t),n}(e,t.buffer,t.decoder),r);var r}function C(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(q,t,e))}function q(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function O(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}v.prototype.read=function(e){f("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return f("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?C(this):k(this),null;if(0===(e=j(e,t))&&t.ended)return 0===t.length&&C(this),null;var n,i=t.needReadable;return f("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&f("length less than watermark",i=!0),t.ended||t.reading?f("reading or ended",i=!1):i&&(f("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=j(r,t))),null===(n=e>0?R(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&C(this)),null!==n&&this.emit("data",n),n},v.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},v.prototype.pipe=function(e,t){var r=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,f("pipe count=%d opts=%j",a.pipesCount,t);var u=t&&!1===t.end||e===n.stdout||e===n.stderr?m:c;function c(){f("onend"),e.end()}a.endEmitted?i.nextTick(u):r.once("end",u),e.on("unpipe",(function t(n,i){f("onunpipe"),n===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,f("cleanup"),e.removeListener("close",g),e.removeListener("finish",y),e.removeListener("drain",l),e.removeListener("error",b),e.removeListener("unpipe",t),r.removeListener("end",c),r.removeListener("end",m),r.removeListener("data",p),h=!0,!a.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}));var l=function(e){return function(){var t=e._readableState;f("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,E(e))}}(r);e.on("drain",l);var h=!1,d=!1;function p(t){f("ondata"),d=!1,!1!==e.write(t)||d||((1===a.pipesCount&&a.pipes===e||a.pipesCount>1&&-1!==O(a.pipes,e))&&!h&&(f("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,d=!0),r.pause())}function b(t){f("onerror",t),m(),e.removeListener("error",b),0===o(e,"error")&&e.emit("error",t)}function g(){e.removeListener("finish",y),m()}function y(){f("onfinish"),e.removeListener("close",g),m()}function m(){f("unpipe"),r.unpipe(e)}return r.on("data",p),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events.error?s(e._events.error)?e._events.error.unshift(r):e._events.error=[r,e._events.error]:e.on(t,r)}(e,"error",b),e.once("close",g),e.once("finish",y),e.emit("pipe",r),a.flowing||(f("pipe resume"),r.resume()),e},v.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<i;a++)n[a].emit("unpipe",this,r);return this}var s=O(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},v.prototype.on=function(e,t){var r=u.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&k(this):i.nextTick(M,this))}return r},v.prototype.addListener=v.prototype.on,v.prototype.resume=function(){var e=this._readableState;return e.flowing||(f("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(I,e,t))}(this,e)),this},v.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this},v.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(f("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){f("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var a=0;a<y.length;a++)e.on(y[a],this.emit.bind(this,y[a]));return this._read=function(t){f("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(v.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),v._fromList=R},82530:function(e,t,r){"use strict";e.exports=s;var n=r(22214),i=Object.create(r(16497));function a(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function s(e){if(!(this instanceof s))return new s(e);n.call(this,e),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",o)}function o(){var e=this;"function"==typeof this._flush?this._flush((function(t,r){u(e,t,r)})):u(this,null,null)}function u(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=r(35717),i.inherits(s,n),s.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},s.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},s.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},s.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},s.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,(function(e){t(e),r.emit("close")}))}},71766:function(e,t,r){"use strict";var n=r(34155),i=r(88212);function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(undefined),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=y;var s,o=!n.browser&&["v0.10","v0.9."].indexOf(n.version.slice(0,5))>-1?setImmediate:i.nextTick;y.WritableState=g;var u=Object.create(r(16497));u.inherits=r(35717);var c,l={deprecate:r(94927)},h=r(66267),d=r(89509).Buffer,f=r.g.Uint8Array||function(){},p=r(20465);function b(){}function g(e,t){s=s||r(22214),e=e||{};var n=t instanceof s;this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var u=e.highWaterMark,c=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=u||0===u?u:n&&(c||0===c)?c:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var h=!1===e.decodeStrings;this.decodeStrings=!h,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,a=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,a){--t.pendingcb,r?(i.nextTick(a,n),i.nextTick(j,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(a(n),e._writableState.errorEmitted=!0,e.emit("error",n),j(e,t))}(e,r,n,t,a);else{var s=_(r);s||r.corked||r.bufferProcessing||!r.bufferedRequest||w(e,r),n?o(v,e,r,s,a):v(e,r,s,a)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function y(e){if(s=s||r(22214),!(c.call(y,this)||this instanceof s))return new y(e);this._writableState=new g(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),h.call(this)}function m(e,t,r,n,i,a,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,r?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function v(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),j(e,t)}function w(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),s=t.corkedRequestsFree;s.entry=r;for(var o=0,u=!0;r;)i[o]=r,r.isBuf||(u=!1),r=r.next,o+=1;i.allBuffers=u,m(e,t,!0,t.length,i,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,l=r.encoding,h=r.callback;if(m(e,t,!1,t.objectMode?1:c.length,c,l,h),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function _(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function x(e,t){e._final((function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),j(e,t)}))}function j(e,t){var r=_(t);return r&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,i.nextTick(x,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}u.inherits(y,h),g.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(g.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===y&&e&&e._writableState instanceof g}})):c=function(e){return e instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(e,t,r){var n,a=this._writableState,s=!1,o=!a.objectMode&&(n=e,d.isBuffer(n)||n instanceof f);return o&&!d.isBuffer(e)&&(e=function(e){return d.from(e)}(e)),"function"==typeof t&&(r=t,t=null),o?t="buffer":t||(t=a.defaultEncoding),"function"!=typeof r&&(r=b),a.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),i.nextTick(t,r)}(this,r):(o||function(e,t,r,n){var a=!0,s=!1;return null===r?s=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),i.nextTick(n,s),a=!1),a}(this,a,e,r))&&(a.pendingcb++,s=function(e,t,r,n,i,a){if(!r){var s=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=d.from(t,r)),t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var o=t.objectMode?1:n.length;t.length+=o;var u=t.length<t.highWaterMark;if(u||(t.needDrain=!0),t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:a,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else m(e,t,!1,o,n,i,a);return u}(this,a,o,e,t,r)),s},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||w(this,e))},y.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,j(e,t),r&&(t.finished?i.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),y.prototype.destroy=p.destroy,y.prototype._undestroy=p.undestroy,y.prototype._destroy=function(e,t){this.end(),t(e)}},65004:function(e,t,r){"use strict";var n=r(89509).Buffer,i=r(46935);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t,r,i=n.allocUnsafe(e>>>0),a=this.head,s=0;a;)t=i,r=s,a.data.copy(t,r),s+=a.data.length,a=a.next;return i},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},20465:function(e,t,r){"use strict";var n=r(88212);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,a=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return a||s?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(n.nextTick(i,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},66267:function(e,t,r){e.exports=r(5212).EventEmitter},17299:function(e,t,r){(t=e.exports=r(30507)).Stream=t,t.Readable=t,t.Writable=r(71766),t.Duplex=r(22214),t.Transform=r(82530),t.PassThrough=r(33323)},15697:function(e,t,r){"use strict";var n=r(89509).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=o,t=4;break;case"base64":this.text=l,this.end=h,t=3;break;default:return this.write=d,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function o(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function l(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}t.s=a,a.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},a.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},a.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=s(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=s(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=s(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},a.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},88473:function(e,t,r){(t=e.exports=r(79481)).Stream=t,t.Readable=t,t.Writable=r(64229),t.Duplex=r(56753),t.Transform=r(74605),t.PassThrough=r(82725),t.finished=r(8610),t.pipeline=r(59946)},89509:function(e,t,r){var n=r(66042),i=n.Buffer;function a(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(a(n,t),t.Buffer=s),a(i,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},24889:function(e,t,r){var n=r(34155);!function(e,t){"use strict";if(!e.setImmediate){var r,i,a,s,o,u=1,c={},l=!1,h=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?r=function(e){n.nextTick((function(){p(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?(s="setImmediate$"+Math.random()+"$",o=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(s)&&p(+t.data.slice(s.length))},e.addEventListener?e.addEventListener("message",o,!1):e.attachEvent("onmessage",o),r=function(t){e.postMessage(s+t,"*")}):e.MessageChannel?((a=new MessageChannel).port1.onmessage=function(e){p(e.data)},r=function(e){a.port2.postMessage(e)}):h&&"onreadystatechange"in h.createElement("script")?(i=h.documentElement,r=function(e){var t=h.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(p,0,e)},d.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return c[u]=i,r(u),u++},d.clearImmediate=f}function f(e){delete c[e]}function p(e){if(l)setTimeout(p,0,e);else{var t=c[e];if(t){l=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(void 0,r)}}(t)}finally{f(e),l=!1}}}}}("undefined"==typeof self?void 0===r.g?this:r.g:self)},28622:function(e,t){"use strict";class r{constructor(e){this.value=e}equals(e){return!!e&&e.termType===this.termType&&e.value===this.value}}r.prototype.termType="BlankNode",t.Z=r},46003:function(e,t){"use strict";class r{equals(e){return!!e&&e.termType===this.termType}}r.prototype.termType="DefaultGraph",r.prototype.value="",t.Z=r},8393:function(e,t){"use strict";class r{constructor(e,t,r){this.value=e,this.language=t,this.datatype=r}equals(e){return!!e&&e.termType===this.termType&&e.value===this.value&&e.language===this.language&&e.datatype.equals(this.datatype)}}r.prototype.termType="Literal",t.Z=r},87148:function(e,t){"use strict";class r{constructor(e){this.value=e}equals(e){return!!e&&e.termType===this.termType&&e.value===this.value}}r.prototype.termType="NamedNode",t.Z=r},92335:function(e,t){"use strict";class r{constructor(e,t,r,n){this.subject=e,this.predicate=t,this.object=r,this.graph=n}equals(e){return!!e&&("Quad"===e.termType||!e.termType)&&e.subject.equals(this.subject)&&e.predicate.equals(this.predicate)&&e.object.equals(this.object)&&e.graph.equals(this.graph)}}r.prototype.termType="Quad",r.prototype.value="",t.Z=r},68925:function(e,t){"use strict";class r{constructor(e){this.value=e}equals(e){return!!e&&e.termType===this.termType&&e.value===this.value}}r.prototype.termType="Variable",t.Z=r},4325:function(e,t){"use strict";t.Z=function(e,t){if(!t)return null;if("BlankNode"===t.termType)return e.blankNode(t.value);if("DefaultGraph"===t.termType)return e.defaultGraph();if("Literal"===t.termType)return e.literal(t.value,t.language||e.namedNode(t.datatype.value));if("NamedNode"===t.termType)return e.namedNode(t.value);if("Quad"===t.termType){const r=e.fromTerm(t.subject),n=e.fromTerm(t.predicate),i=e.fromTerm(t.object),a=e.fromTerm(t.graph);return e.quad(r,n,i,a)}if("Variable"===t.termType)return e.variable(t.value);throw new Error(`unknown termType ${t.termType}`)}},35583:function(e,t,r){"use strict";r.r(t),r.d(t,{ClownfaceFactory:function(){return G},DataFactory:function(){return ye},DatasetFactory:function(){return Ee},Environment:function(){return i},FetchFactory:function(){return S},FormatsFactory:function(){return s},NamespaceFactory:function(){return M},PrefixMapFactory:function(){return C},TermMapFactory:function(){return $},TermSetFactory:function(){return W},TraverserFactory:function(){return U},default:function(){return Re}});class n{constructor(e,{bind:t=!1}={}){this._factories=e.slice();for(const e of this._factories){"function"==typeof e.prototype.init&&e.prototype.init.call(this);for(const r of e.exports||[])this[r]=t?e.prototype[r].bind(this):e.prototype[r]}}clone(){const e=new n(this._factories);for(const t of e._factories)"function"==typeof t.prototype.clone&&t.prototype.clone.call(e,this);return e}}var i=n,a=r(6276),s=class{init(){this.formats=new class{constructor({factory:e}){this.factory=e,this.parsers=new a,this.serializers=new a}import(e){if(e.parsers)for(const[t,r]of e.parsers)this.parsers.set(t,new r.constructor({factory:this.factory}));if(e.serializers)for(const[t,r]of e.serializers)this.serializers.set(t,new r.constructor({factory:this.factory}))}}({factory:this})}clone(e){this.formats.import(e.formats)}},o=r(66042).Buffer,u=async function(e={}){if(!e.body||!e.body.readable)return e;const t=await async function(e){const t=[];return e.on("data",(e=>t.push(e))),new Promise(((r,n)=>{e.on("end",(()=>r(t))),e.on("error",(e=>n(e)))}))}(e.body);return t.length>0?o.isBuffer(t[0])?e.body=o.concat(t):e.body=t.join(""):e.body="",e},c=r(62902),l=r(51463),h=r(88473),d=r(66042).Buffer;class f{constructor(e,t){this.obj=e;for(const[e,r]of Object.entries(t))this[e]=r;for(const t of f.properties(e))t in this||("function"==typeof this.obj[t]?this[t]=(...r)=>this.obj[t].call(e,r):Object.defineProperty(this,t,{get:()=>this.obj[t],set:e=>{this.obj[t]=e},enumerable:!0,configurable:!0}))}static properties(e){return Object.getOwnPropertyNames(Object.getPrototypeOf(e))}}var p=f,b=r(66042).Buffer,g=function(e){return e.bodyUsed?(e.body=new c(new Error("body already in use")),e):e.body&&e.body.readable?e:e.body&&"function"==typeof e.body.getReader?new p(e,{body:(r=e.body.getReader(),new h.Readable({read:async function(){try{let e,t;do{e=await r.read(),e.done?this.push(null):t=!this.push(b.from(e.value))}while(!e.done&&!t)}catch(e){this.destroy(e)}}}))}):(e.body=(t=()=>e.arrayBuffer(),new h.Readable({read:l((async function(){try{this.push(d.from(await t())),this.push(null)}catch(e){this.destroy(e)}}))})),e);var t,r};const y=window.Headers;function m(e,t){return u(t).then((t=>fetch(e,t).then((e=>g(e)))))}var v=r(97356),w=function(e,t){if(e.headers=function(e){const t={};return Object.entries(e).forEach((([e,r])=>{t[e.toLowerCase()]=r})),t}(e.headers||{}),e.headers.accept=e.headers.accept||[...t.parsers.keys()].join(", "),!e.body)return e;if("string"==typeof e.body)return e;if(e.headers["content-type"]&&!t.serializers.has(e.headers["content-type"]))throw new Error(`no serializer found for media type: ${e.headers["content-type"]}`);return e.headers["content-type"]=e.headers["content-type"]||t.serializers.keys().next().value,!(0,v.isReadable)(e.body)&&e.body[Symbol.iterator]&&(e.body=function(e){const t=new h.Readable({objectMode:!0,read:()=>{}});for(const r of e)t.push(r);return t.push(null),t}(e.body)),e.body=t.serializers.import(e.headers["content-type"],e.body),e},_=async function(e,t){return t.on("data",(t=>e.add(t))),await function(e){return new Promise(((t,r)=>{(0,h.finished)(e,(e=>{if(e)return r(e);t()}))}))}(t),e};const x=/<(.*)>/;var j=function(e,t,r){e.quadStream=async()=>{if(!e.headers.get("content-type"))throw new Error("Content-Type header missing: couldn't determine parser");let n=e.headers.get("content-type").split(";")[0];const i=function(e,t){if("application/json"!==t)return null;if(!e.headers.has("link"))return null;const r=e.headers.get("link").split(",").map((e=>e.trim())).find((e=>e.includes('rel="http://www.w3.org/ns/json-ld#context"')));if(!r)return null;const n=(x.exec(r)||[]).slice(-1)[0];return n?new URL(n,e.url).toString():null}(e,n);if(i&&(n="application/ld+json"),!r.has(n))return Promise.reject(new Error(`unknown content type: ${n}`));let a;return i&&(a=await t(i).then((e=>e.json()))),r.import(n,e.body,{baseIRI:e.url,context:a})}},k=function(e,t,r,n){const i=[...e.headers.keys()].some((e=>e.startsWith("content-"))),a="chunked"===e.headers.get("transfer-encoding");return(i||a)&&(j(e,r,n),t&&function(e,t){e.dataset=async()=>{const r=await e.quadStream();return _(t.dataset(),r)}}(e,t)),e};var S=class{init(){this._fetch={fetch:null},this.fetch=function(e){const t=function(t,r={}){return async function(e,t={}){const r=t.factory,n=t.fetch||m,i=t.formats;if(!i)throw new Error("no formats given");t=w(t,i);const a=await n(e,t);return k(a,r,n,i.parsers)}(t,{...r,factory:"function"==typeof e.dataset?e:null,fetch:e._fetch.fetch,formats:e.formats})};return t.config=function(t,r){e._fetch[t]=r},t.Headers=y,t}(this)}clone(e){for(const[t,r]of Object.entries(e._fetch))this._fetch[t]=r}},T=r(80910);class N{namespace(e){return T(e,{factory:this})}}N.exports=["namespace"];var M=N;class I extends Map{constructor(e=[],{factory:t}){super(e),this.factory=t}resolve(e){if(e.value.includes("://"))return null;const[t,r]=e.value.split(":",2);return void 0===r?null:this.has(t)?this.factory.namedNode(`${this.get(t).value}${r}`):null}shrink(e){if(!e)return null;const[t]=[...this].filter((([,t])=>e.value.startsWith(t.value))).sort(((e,t)=>t[1].value.length-e[1].value.length));return void 0===t?null:this.factory.namedNode(`${t[0]}:${e.value.slice(t[1].value.length)}`)}import(e){return e.on("prefix",((e,t)=>{this.set(e,t)})),new Promise(((t,r)=>{(0,h.finished)(e,(e=>{e?r(e):t(this)}))}))}export(e){for(const[t,r]of this)e.emit("prefix",t,r);return this}}var E=I;class R{init(){this.prefixes=new E([],{factory:this})}clone(e){if(e.prefixes)for(const[t,r]of e.prefixes)this.prefixes.set(t,r)}prefixMap(e){return new E(e,{factory:this})}}R.exports=["prefixMap"];var C=R,q=r(76083);class O{constructor(e){if(this.index=new Map,e)for(const[t,r]of e)this.set(t,r)}get size(){return this.index.size}clear(){this.index.clear()}delete(e){return this.index.delete(q(e))}*entries(){for(const[,{term:e,value:t}]of this.index)yield[e,t]}forEach(e,t){for(const r of this.entries())e.call(t,r[1],r[0],this)}get(e){const t=this.index.get(q(e));return t&&t.value}has(e){return this.index.has(q(e))}*keys(){for(const[,{term:e}]of this.index)yield e}set(e,t){const r=q(e);return this.index.set(r,{term:e,value:t}),this}*values(){for(const[,{value:e}]of this.index)yield e}[Symbol.iterator](){return this.entries()[Symbol.iterator]()}}var B=O;class A{termMap(e){return new B(e)}}A.exports=["termMap"];var $=A;function D(e){try{return q(e)}catch(e){return null}}class z{constructor(e){if(this.index=new Map,e)for(const t of e)this.add(t)}get size(){return this.index.size}add(e){const t=q(e);return this.index.has(t)||this.index.set(t,e),this}clear(){this.index.clear()}delete(e){return!!e&&this.index.delete(D(e))}entries(){return this.values().entries()}forEach(e,t){return this.values().forEach(e,t)}has(e){return!!e&&this.index.has(D(e))}values(){return new Set(this.index.values())}keys(){return this.values()}[Symbol.iterator](){return this.values()[Symbol.iterator]()}}var F=z;class L{termSet(e){return new F(e)}}L.exports=["termSet"];var W=L;function P({backward:e,callback:t,dataset:r,filter:n,forward:i,term:a,visited:s}){const o=(a,u)=>{const c=a=>{for(const c of a){if(s.has(c))continue;s.add(c);const a={dataset:r,level:u,quad:c};n(a)&&(t(a),i&&o(c.object,u+1),e&&o(c.subject,u+1))}};i&&c(r.match(a)),e&&c(r.match(null,null,a))};o(a,0)}class Q{traverser(e,{backward:t=!1,forward:r=!0}={}){return new class{constructor(e,{backward:t=!1,factory:r,forward:n=!0}){this.backward=t,this.factory=r,this.filter=e,this.forward=n}forEach({term:e,dataset:t},r){P({backward:this.backward,callback:r,dataset:t,filter:this.filter,forward:this.forward,term:e,visited:this.factory.dataset()})}match({term:e,dataset:t}){const r=this.factory.dataset();return P({backward:this.backward,callback:({quad:e})=>r.add(e),dataset:t,filter:this.filter,forward:this.forward,term:e,visited:this.factory.dataset()}),r}reduce({term:e,dataset:t},r,n){let i=n;return P({backward:this.backward,callback:e=>{i=r(e,i)},dataset:t,filter:this.filter,forward:this.forward,term:e,visited:this.factory.dataset()}),i}}(e,{backward:t,factory:this,forward:r})}}Q.exports=["traverser"];var U=Q,Z=r(85717);class H{clownface({...e}={}){return e.dataset||"function"!=typeof this.dataset||(e.dataset=this.dataset()),Z({...e,factory:this})}}H.exports=["clownface"];var G=H,V=r(4325),X=r(28622);class J extends X.Z{toCanonical(){return q(this)}toString(){return this.toCanonical()}}var K=J,Y=r(46003);class ee extends Y.Z{toCanonical(){return q(this)}toString(){return this.toCanonical()}}var te=ee,re=r(8393);class ne extends re.Z{toCanonical(){return q(this)}toString(){return this.value}}var ie=ne,ae=r(87148);class se extends ae.Z{toCanonical(){return q(this)}toString(){return this.value}}var oe=se,ue=r(92335);class ce extends ue.Z{toCanonical(){return q(this)}toString(){return this.toCanonical()}}var le=ce,he=r(68925);class de extends he.Z{toCanonical(){return q(this)}toString(){return this.toCanonical()}}var fe=de;const pe=new oe("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),be=new oe("http://www.w3.org/2001/XMLSchema#string");class ge{init(){this._data={blankNodeCounter:0,defaultGraph:new te}}namedNode(e){return new oe(e)}blankNode(e){return e=e||"b"+ ++this._data.blankNodeCounter,new K(e)}literal(e,t){return"string"==typeof t?new ie(e,t,pe):new ie(e,"",t||be)}variable(e){return new fe(e)}defaultGraph(){return this._data.defaultGraph}quad(e,t,r,n=this.defaultGraph()){return new le(e,t,r,n)}fromTerm(e){return(0,V.Z)(this,e)}fromQuad(e){return(0,V.Z)(this,e)}}ge.exports=["namedNode","blankNode","literal","variable","defaultGraph","quad","fromTerm","fromQuad"];var ye=ge;function me(e){return"string"==typeof e||e instanceof String}function ve(e){if("string"==typeof e)return e;if(!e)return"";if(void 0!==e.id&&"Quad"!==e.termType)return e.id;let t,r,n,i;switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return`_:${e.value}`;case"Variable":return`?${e.value}`;case"DefaultGraph":return"";case"Literal":return e.language?`"${e.value}"@${e.language}`:`"${e.value}"${e.datatype&&"http://www.w3.org/2001/XMLSchema#string"!==e.datatype.value?`^^${e.datatype.value}`:""}`;case"Quad":return t=_e(ve(e.subject)),r=_e(ve(e.predicate)),n=_e(ve(e.object)),i="DefaultGraph"===e.graph.termType?"":` ${ve(e.graph)}`,`<<${t} ${r} ${n}${i}>>`;default:throw new Error(`Unexpected termType: ${e.termType}`)}}const we=/^"(.*".*)(?="[^"]*$)/;function _e(e){return e.replace(we,((e,t)=>`"${t.replace(/"/g,'""')}`))}class xe{constructor(e){if(this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._quads=new Map,e)for(const t of e)this.add(t)}get size(){let e=this._size;if(null!==e)return e;e=0;const t=this._graphs;let r,n;for(const i in t)for(const a in r=t[i].subjects)for(const t in n=r[a])e+=Object.keys(n[t]).length;return this._size=e,this._size}add(e){let t=ve(e.subject),r=ve(e.predicate),n=ve(e.object);const i=ve(e.graph);let a=this._graphs[i];a||(a=this._graphs[i]={subjects:{},predicates:{},objects:{}},Object.freeze(a));const s=this._ids,o=this._entities;return t=s[t]||(s[o[++this._id]=t]=this._id),r=s[r]||(s[o[++this._id]=r]=this._id),n=s[n]||(s[o[++this._id]=n]=this._id),this._addToIndex(a.subjects,t,r,n),this._addToIndex(a.predicates,r,n,t),this._addToIndex(a.objects,n,t,r),this._setQuad(t,r,n,i,e),this._size=null,this}delete(e){let t=ve(e.subject),r=ve(e.predicate),n=ve(e.object);const i=ve(e.graph),a=this._ids,s=this._graphs;let o,u,c;if(!((t=a[t])&&(r=a[r])&&(n=a[n])&&(o=s[i])&&(u=o.subjects[t])&&(c=u[r])&&n in c))return this;for(t in this._removeFromIndex(o.subjects,t,r,n),this._removeFromIndex(o.predicates,r,n,t),this._removeFromIndex(o.objects,n,t,r),null!==this._size&&this._size--,this._deleteQuad(t,r,n,i),o.subjects)return this;return delete s[i],this}has(e){const t=ve(e.subject),r=ve(e.predicate),n=ve(e.object),i=ve(e.graph),a=this._graphs[i];if(!a)return!1;const s=this._ids;let o,u,c;return!(me(t)&&!(o=s[t])||me(r)&&!(u=s[r])||me(n)&&!(c=s[n]))&&1===this._countInIndex(a.objects,c,o,u)}match(e,t,r,n){return this._createDataset(this._match(e,t,r,n))}[Symbol.iterator](){return this._match()[Symbol.iterator]()}_addToIndex(e,t,r,n){const i=e[t]||(e[t]={}),a=i[r]||(i[r]={}),s=n in a;return s||(a[n]=null),!s}_removeFromIndex(e,t,r,n){const i=e[t],a=i[r];delete a[n];for(const e in a)return;delete i[r];for(const e in i)return;delete e[t]}_findInIndex(e,t,r,n,i,a,s,o,u,c){let l,h,d;t&&((l=e,e={})[t]=l[t]);for(const t in e)if(h=e[t],h){r&&((l=h,h={})[r]=l[r]);for(const e in h)if(d=h[e],d){const r=n?n in d?[n]:[]:Object.keys(d);for(let n=0;n<r.length;n++){const l={[i]:t,[a]:e,[s]:r[n]},h=this._getQuad(l.subject,l.predicate,l.object,o);if(c)c.push(h);else if(u(h))return!0}}}return c}_countInIndex(e,t,r,n){let i,a,s,o=0;t&&((i=e,e={})[t]=i[t]);for(const t in e)if(a=e[t],a){r&&((i=a,a={})[r]=i[r]);for(const e in a)s=a[e],s&&(n?n in s&&o++:o+=Object.keys(s).length)}return o}_getGraphs(e){return me(e)?{[e]:this._graphs[e]}:this._graphs}_match(e,t,r,n){e=e&&ve(e),t=t&&ve(t),r=r&&ve(r),n=n&&ve(n);const i=[],a=this._getGraphs(n),s=this._ids;let o,u,c,l;if(me(e)&&!(u=s[e])||me(t)&&!(c=s[t])||me(r)&&!(l=s[r]))return i;for(const e in a)o=a[e],o&&(u?l?this._findInIndex(o.objects,l,u,c,"object","subject","predicate",e,null,i):this._findInIndex(o.subjects,u,c,null,"subject","predicate","object",e,null,i):c?this._findInIndex(o.predicates,c,l,null,"predicate","object","subject",e,null,i):l?this._findInIndex(o.objects,l,null,null,"object","subject","predicate",e,null,i):this._findInIndex(o.subjects,null,null,null,"subject","predicate","object",e,null,i));return i}_getQuad(e,t,r,n){return this._quads.get(this._toId(e,t,r,n))}_setQuad(e,t,r,n,i){this._quads.set(this._toId(e,t,r,n),i)}_deleteQuad(e,t,r,n){this._quads.delete(this._toId(e,t,r,n))}_createDataset(e){return new this.constructor(e)}_toId(e,t,r,n){return`${e}:${t}:${r}:${n}`}}var je=xe,ke=r(5643);function Se(e){return"BlankNode"===e.termType?{termType:"BlankNode",value:`_:${e.value}`}:e}var Te=function(e){return(new ke).main(function(e){return[...e].map((e=>function(e){return{subject:Se(e.subject),predicate:Se(e.predicate),object:Se(e.object),graph:Se(e.graph)}}(e)))}(e))};function Ne(e,t){return new e.constructor(t)}var Me=class extends je{addAll(e){for(const t of e)this.add(t);return this}clone(){return Ne(this,this)}deleteMatches(e,t,r,n){for(const i of this.match(e,t,r,n))this.delete(i);return this}difference(e){return this.filter((t=>!e.has(t)))}equals(e){return this.toCanonical()===e.toCanonical()}every(e){return Array.from(this).every((t=>e(t,this)))}filter(e){return Ne(this,Array.from(this).filter((t=>e(t,this))))}forEach(e){Array.from(this).forEach((t=>e(t,this)))}import(e){return e.on("data",(e=>this.add(e))),new Promise(((t,r)=>{(0,h.finished)(e,(e=>{e?r(e):t(this)}))}))}intersection(e){return this.filter((t=>e.has(t)))}map(e){return Ne(this,Array.from(this).map((t=>e(t,this))))}merge(e){return this.clone().addAll(e)}some(e){return Array.from(this).some((t=>e(t,this)))}toCanonical(){return Te(this)}toStream(){return function(e){let t=!1;const r=e[Symbol.iterator](),n=()=>{try{const{value:e,done:a}=r.next();a?i.push(null):i.push(e)?n():t=!1}catch(e){i.destroy(e)}},i=new h.Readable({objectMode:!0,read:()=>{t||(t=!0,n())}});return i}(this)}toString(){return q(this)}};class Ie{dataset(e,t){const r=new Me;if(e)if(t)for(const n of e)r.add(this.quad(n.subject,n.predicate,n.object,t));else r.addAll(e);return r}}Ie.exports=["dataset"];var Ee=Ie,Re=new i([G,ye,Ee,S,s,M,C,$,W,U],{bind:!0})}}]);